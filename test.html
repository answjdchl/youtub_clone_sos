<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <video src="" id="video" poster="" controls autoplay preload="auto" width="600">
        <input type="text" id="search">
        <button onclick="search()">검색</button>
</body>
<script>
    const videoTag = document.getElementById('video');
    const searchInput = document.getElementById('search');
    let videoList = [];
    let searchedList = [];
    fetch("http://oreumi.appspot.com/video/getVideoInfo?video_id=1")
        .then((response) => response.json())
        .then((data) => {
            console.log(data);
            videoTag.poster = data.image_link;
            videoTag.src = data.video_link;
        });

    fetch("http://oreumi.appspot.com/video/getVideoList")
        .then((response) => response.json())
        .then((data) => {
            console.log(data);
            videoList = data;
        });

    function search() {
        let searchText = searchInput.value;
        searchedList = [];
        for (let i = 0; i < videoList.length; i++) {
            if (videoList[i].video_channel.includes(searchText)
                || videoList[i].video_detail.includes(searchText)
                || videoList[i].video_title.includes(searchText)
                || videoList[i].video_tag.includes(searchText)
            ) {
                searchedList.push(videoList[i]);
            }
        }
        console.log(searchedList);
    }
</script>

</html>